<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ausstellung – Werk</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
    <main class="wrap">
      <img class="top-logo" src="logo.jpg" alt="Flu Logo" onerror="this.style.display='none'">
      <h1 id="ort">Ausstellungsort</h1>
      <div class="sub" id="ausstellungDatum">Titel · Datum</div>
      <h2 id="werkSerie">Werk + Serie</h2>

      <div class="actions">
        <a class="btn" id="audio-link" href="#" target="_blank" rel="noopener">🎧 Audio</a>
        <button class="btn" id="pdf-link" type="button">📄 PDF anzeigen</button>
        <button class="btn" id="video-link" type="button">▶︎ Video anzeigen</button>
        <a class="btn" href="https://www.flu.ruhr/uber" target="_blank" rel="noopener">ℹ️ Info Künstler</a>
      </div>

      <div class="player-card">
        <audio controls preload="metadata" id="player" aria-label="Audiobeschreibung">
          <source id="audio-src" src="" type="audio/mpeg">
          Dein Browser unterstützt das Audio-Element nicht.
        </audio>
      </div>

      <p class="note">Bitte Kopfhörer verwenden oder die Lautstärke so wählen,<br> dass andere Besucher nicht gestört werden.</p>
    </main>
  </div>

  <footer class="footer">
    <div class="brand"><a href="https://www.flu.ruhr" target="_blank" rel="noopener">www.flu.ruhr</a></div>
    <div>© 2025 Flu – New Fine Art</div>
  </footer>

  <div class="modal" id="pdfModal" aria-hidden="true">
    <div class="dialog">
      <div class="dialog-hd">
        <div class="dialog-ttl" id="pdfTitle">PDF: Werk</div>
        <div class="dialog-actions">
          <a class="m-btn" id="pdfNewTab" href="#" target="_blank" rel="noopener">In neuem Tab</a>
          <button class="m-btn" id="closePdf" type="button">Schließen</button>
        </div>
      </div>
      <iframe class="pdfjs-frame" id="pdfFrame" allowfullscreen></iframe>
    </div>
  </div>

  <!-- Video-Modal -->
  <div class="modal" id="videoModal" aria-hidden="true">
    <div class="dialog">
      <div class="dialog-hd">
        <div class="dialog-ttl">Video</div>
        <div class="dialog-actions">
          <button class="m-btn" id="closeVideo" type="button">Schließen</button>
        </div>
      </div>
      <iframe id="videoFrame" style="width:100%;height:100%;flex:1;border:0"
              src="" title="YouTube Video Player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen></iframe>
    </div>
  </div>

  <script src="werke.js"></script>
  <script>
    const GLOBAL_VIDEO_EMBED = "https://www.youtube.com/embed/_Yg0ta6Lk9w?rel=0";
    function openModal(m){ m.classList.add('open'); m.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; }
    function closeModal(m){ m.classList.remove('open'); m.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

    document.addEventListener('DOMContentLoaded', () => {
      const videoBtn   = document.getElementById('video-link');
      const videoModal = document.getElementById('videoModal');
      const videoFrame = document.getElementById('videoFrame');
      const closeVideo = document.getElementById('closeVideo');

      videoBtn?.addEventListener('click', () => {
        videoFrame.src = GLOBAL_VIDEO_EMBED;
        openModal(videoModal);
      });
      closeVideo?.addEventListener('click', () => {
        closeModal(videoModal);
        videoFrame.src = "";
      });
      videoModal?.addEventListener('click', (e) => {
        if (e.target === videoModal) {
          closeModal(videoModal);
          videoFrame.src = "";
        }
      });
    });
  </script>
</body>
</html>
